<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="C（拒绝goto）Struct,Enum,Union 结构体的初始化和声明  12345678910struct Student&amp;#123;    int Code;    char Name[20];    char Sex;    int Age;&amp;#125;;struct Student Stu;struct Student Stu[10];struct Student *pStru;  1">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2021/02/26/c++%E4%B8%8EOOP/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="C（拒绝goto）Struct,Enum,Union 结构体的初始化和声明  12345678910struct Student&amp;#123;    int Code;    char Name[20];    char Sex;    int Age;&amp;#125;;struct Student Stu;struct Student Stu[10];struct Student *pStru;  1">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:/Users/GK/Pictures/博客/image-20210203193631697.png">
<meta property="article:published_time" content="2021-02-26T08:43:16.015Z">
<meta property="article:modified_time" content="2021-02-04T07:06:05.095Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/GK/Pictures/博客/image-20210203193631697.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-c++与OOP" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/02/26/c++%E4%B8%8EOOP/" class="article-date">
  <time class="dt-published" datetime="2021-02-26T08:43:16.015Z" itemprop="datePublished">2021-02-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="C（拒绝goto）"><a href="#C（拒绝goto）" class="headerlink" title="C（拒绝goto）"></a>C（拒绝goto）</h1><h2 id="Struct-Enum-Union"><a href="#Struct-Enum-Union" class="headerlink" title="Struct,Enum,Union"></a>Struct,Enum,Union</h2><ul>
<li>结构体的初始化和声明</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">struct Student</span><br><span class="line">&#123;</span><br><span class="line">    int Code;</span><br><span class="line">    char Name[20];</span><br><span class="line">    char Sex;</span><br><span class="line">    int Age;</span><br><span class="line">&#125;;</span><br><span class="line">struct Student Stu;</span><br><span class="line">struct Student Stu[10];</span><br><span class="line">struct Student *pStru;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">struct</span><br><span class="line">&#123;</span><br><span class="line">    int Code;</span><br><span class="line">    char Name[20];</span><br><span class="line">    char Sex;</span><br><span class="line">    int Age;</span><br><span class="line">&#125;Stu,Stu[10],*pStu;</span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">typedef struct</span><br><span class="line">&#123;</span><br><span class="line">    int Code;</span><br><span class="line">    char Name[20];</span><br><span class="line">    char Sex;</span><br><span class="line">    int Age;</span><br><span class="line">&#125;Student;</span><br><span class="line">Student Stu,Stu[10],*pStu;</span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>C++的结构体可以包含函数，这样，C++的结构体也具有类的功能，与class不同的是，结构体包含的函数默认为public，而class中默认是private。</p>
<ul>
<li>用结构储存串</li>
</ul>
<p>指针还是数组，一般情况下选择定长数组，如果使用指针，必须预先分配足够的空间</p>
<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><h3 id="函数声明"><a href="#函数声明" class="headerlink" title="函数声明"></a>函数声明</h3><p>声明函数形式参数和返回值</p>
<h3 id="形参与实参"><a href="#形参与实参" class="headerlink" title="形参与实参"></a>形参与实参</h3><p>实际参数是具体的值，形式参数是变量</p>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>函数调用自己</p>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>函数具有唯一的返回值，且不能返回引用</p>
<h2 id="Pointer与动态内存访问"><a href="#Pointer与动态内存访问" class="headerlink" title="Pointer与动态内存访问"></a>Pointer与动态内存访问</h2><h3 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h3><p>指针的value（地址）和指向的变量类型</p>
<h3 id="指针的强制类型转换与运算"><a href="#指针的强制类型转换与运算" class="headerlink" title="指针的强制类型转换与运算"></a>指针的强制类型转换与运算</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">struct Test</span><br><span class="line">&#123;</span><br><span class="line">   int Num;</span><br><span class="line">   char *pcName;</span><br><span class="line">   short sDate;</span><br><span class="line">   char cha[2];</span><br><span class="line">   short sBa[4];</span><br><span class="line">&#125;*p;</span><br><span class="line">假设p 的值为0x100000。如下表表达式的值分别为多少？</span><br><span class="line">   p + 0x1 &#x3D; 0x___ ?</span><br><span class="line">   (unsigned long)p + 0x1 &#x3D; 0x___?</span><br><span class="line">   (unsigned int*)p + 0x1 &#x3D; 0x___?</span><br></pre></td></tr></table></figure>
<p>一个指针变量与一个整数相加减，到底该怎么解析呢？</p>
<p>指针变量与一个整数相加减并不是用指针变量里的地址直接加减这个整数。这个整数的单位不是byte 而是元素的个数。</p>
<p>所以：p + 0x1 的值为0x100000+sizof（Test）*0x1。至于此结构体的大小为20byte，前面的章节已经详细讲解过。所以p +0x1 的值为：0x100014。</p>
<p>(unsigned long)p + 0x1 的值呢？<br>这里涉及到强制转换，将指针变量p 保存的值强制转换成无符号的长整型数。任何数值一旦被强制转换，其类型就改变了。<br>所以这个表达式其实就是一个无符号的长整型数加上另一个整数。所以其值为：0x100001。</p>
<p>(unsigned int*)p + 0x1 的值呢？<br>这里的p 被强制转换成一个指向无符号整型的指针。所以其值为：0x100000+sizof（unsigned int）*0x1，等于0x100004。</p>
<p>void*</p>
<p>const*</p>
<p>*const/const *const</p>
<p>拒绝野指针和悬垂指针</p>
<h3 id="动态分配的内存"><a href="#动态分配的内存" class="headerlink" title="动态分配的内存"></a>动态分配的内存</h3><p>malloc/free</p>
<p>new/delete</p>
<h2 id="储存类别与内存管理"><a href="#储存类别与内存管理" class="headerlink" title="储存类别与内存管理"></a>储存类别与内存管理</h2><ol>
<li>作用域</li>
</ol>
<p>块作用域：程序中可访问标识符的区域为一个块</p>
<p>文件作用域（全局变量）：定义在函数外，在整个文件可见</p>
<ol start="2">
<li>链接</li>
</ol>
<ul>
<li>无链接变量：变量属于定义他们的块</li>
<li>外部链接：多文件中使用</li>
<li>内部链接：一个翻译单元中使用（static）</li>
</ul>
<ol start="3">
<li> 储存期与静态变量</li>
</ol>
<p>储存期：对象在内存中保留了多长时间</p>
<ul>
<li><p>静态储存期：程序执行期间一直存在（具有文件作用域的变量）</p>
</li>
<li><p>线程储存期：并发</p>
</li>
<li><p>自动储存期：块作用域变量</p>
<p>ps：当在块内声明一个static变量时，它具有静态储存期但仍然是块作用域，只能在声明块内使用</p>
</li>
</ul>
<ol start="4">
<li>外部变量extern</li>
</ol>
<p>文件作用域，外部链接，静态储存期</p>
<h1 id="c-（c-11）"><a href="#c-（c-11）" class="headerlink" title="c++（c++11）"></a>c++（c++11）</h1><h2 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h2><h2 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h2><p>bind,声明一个引用变量必须直接绑定</p>
<p>不要返回临时变量的引用，他会在作用域结束后被释放</p>
<h2 id="const"><a href="#const" class="headerlink" title="const"></a>const</h2><p>保护数据</p>
<h2 id="Class，ADT"><a href="#Class，ADT" class="headerlink" title="Class，ADT"></a>Class，ADT</h2><p>数据抽象：定义数据成员和函数成员</p>
<p>封装：保护类的成员不被随意访问</p>
<ol>
<li>访问控制，private，public和protected</li>
</ol>
<ul>
<li>public：整个程序内可被访问</li>
<li>private:可以被类的成员函数访问，不能被使用该类的代码访问</li>
<li>protected：在讲述继承时我们将介绍</li>
</ul>
<ol start="2">
<li><p>面向对象的特性：继承，多态，封装（ADT）</p>
<p>多态的实现：</p>
</li>
</ol>
<ul>
<li><p>重载：函数名字相同但形参列表不同</p>
<p>重载运算符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">operator+(type data1,type data2)</span><br></pre></td></tr></table></figure>

<p><img src="C:\Users\GK\Pictures\博客\image-20210203193631697.png" alt="image-20210203193631697"></p>
</li>
<li><p>虚函数</p>
</li>
</ul>
<ol start="3">
<li>构造函数</li>
</ol>
<ul>
<li>默认构造函数</li>
<li>构造函数初始值列表</li>
<li>拷贝构造函数</li>
</ul>
<ol start="4">
<li>析构函数</li>
</ol>
<h2 id="OOP"><a href="#OOP" class="headerlink" title="OOP"></a>OOP</h2><p>数据抽象，继承和动态绑定</p>
<ol>
<li><p>继承：</p>
<ul>
<li>基类，虚函数，纯虚函数</li>
<li>派生类：派生类可以继承基类的成员，但派生类的成员函数不一定有权访问基类成员，能访问public而不能访问private，但有一类成员我们希望派生类有权访问但其他用户禁止访问，即为protected</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line"> </span><br><span class="line">using namespace std;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 基类</span><br><span class="line">class Shape </span><br><span class="line">&#123;</span><br><span class="line">   public:</span><br><span class="line">      void setWidth(int w)</span><br><span class="line">      &#123;</span><br><span class="line">         width &#x3D; w;</span><br><span class="line">      &#125;</span><br><span class="line">      void setHeight(int h)</span><br><span class="line">      &#123;</span><br><span class="line">         height &#x3D; h;</span><br><span class="line">      &#125;</span><br><span class="line">   protected:</span><br><span class="line">      int width;</span><br><span class="line">      int height;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">&#x2F;&#x2F; 派生类</span><br><span class="line">class Rectangle: public Shape</span><br><span class="line">&#123;</span><br><span class="line">   public:</span><br><span class="line">      int getArea()</span><br><span class="line">      &#123; </span><br><span class="line">         return (width * height); </span><br><span class="line">      &#125;</span><br><span class="line">&#125;;</span><br><span class="line"> </span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">   Rectangle Rect;</span><br><span class="line"> </span><br><span class="line">   Rect.setWidth(5);</span><br><span class="line">   Rect.setHeight(7);</span><br><span class="line"> </span><br><span class="line">   &#x2F;&#x2F; 输出对象的面积</span><br><span class="line">   cout &lt;&lt; &quot;Total area: &quot; &lt;&lt; Rect.getArea() &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">   return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>动态绑定</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/02/26/c++%E4%B8%8EOOP/" data-id="cklmi0hu00003bwuc7w46hz1j" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/02/26/%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2021/02/26/hello-world/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Hello World</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cmake/" rel="tag">Cmake</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OpenCV/" rel="tag">OpenCV</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">数据结构</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Cmake/" style="font-size: 10px;">Cmake</a> <a href="/tags/OpenCV/" style="font-size: 10px;">OpenCV</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 20px;">数据结构</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/02/26/PKG_CONFIG/">PKG_CONFIG</a>
          </li>
        
          <li>
            <a href="/2021/02/26/%E5%AE%89%E8%A3%85OpenCvCpp%E5%BA%93/">安装OpenCvC++库</a>
          </li>
        
          <li>
            <a href="/2021/02/26/%E7%9B%B8%E6%9C%BA%E6%A8%A1%E5%9E%8B/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/02/26/c++%E4%B8%8EOOP/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/02/26/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>